
   Task Manager Client
   
   Usage:

        taskManager.init(<your-component-name, <your-component-priority-boolean>, <initialize-callback-function>, <error-callback-function>);

   The error callback function is supposed contain your logger instance.

   After the initialize callback function has been called
   taskManager.tasksQueue[] stores all tasks with 'inQueue' status for provided component and priority flag,
   The structure of a task is following:

        {
            "task_id"           : "taskid",
            "task_status"           : "inQueue",
            "from"              : "2018-01-01T14:30:30Z"
            "to"                : "2018-01-01T14:30:30Z"
            "componentName"     : "M1-1",            
            "componentId"       : "someUUID123fac",
            "componentStatus    : "up",
            "baseline": {
                "preprocessor" : {
                    "field"     : "local.calls.duration"
                },
            },
            "message"           : "a task for a readme",
            "date_created"      : "2018-01-01T14:30:30Z",
            "date_updated"      : "2018-01-01T14:30:30Z",
            ...
        }

   REMEMBER you need to shift() the task from the tasksQueue[] after you have started the task job.

    taskManager.serviceStart(<serviceId>)       //registers a service with serviceId as up
    tasksManager.inProgress(<current-taskId>);  //changes the status of the task to 'inProgress' in the tasks DB
    tasksManager.failed(<current-taskId>);      //changes the status of the task to 'failed' in the tasks DB
    tasksManager.success(<current-taskId>);     //changes the status of the task to 'success' in the tasks DB
    tasksManager.cancel(<current-taskId>);      //changes the status of the task to 'cancelled' in the tasks DB


   This library requires a ./config/default.json file in your root folder
   with following keys:

    ./config/default.json
    {
      "taskManager": {
          "kafka": {
            "brokersList": ["192.168.0.166:9092"],
            "consumerGroupId": "testTaskClie1nt",
            "enableAutoCommit": false,
            "clientId": "test",
            "topics": ["tasks", "cancel"],
            "updateTopic": "update",
            "startTopic": "startTopic",
            "msgPerFile": 500
          },
          "componentName": "asd",
          "componentId": "asd"
        }
    }

   otherwise it calls a provided callback function with an error.

   Unless required by applicable law or agreed to in writing, software
   distributed under no licenses and is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.

   Author - Sanzhar Kuliev;
   Materials - Property of Askartec LLC
